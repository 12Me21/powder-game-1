#include "menu.h"
#include "part.h"
#include <string.h>
#include <stdlib.h>
#include "elements.h"
#include <math.h>
#include "vector.h"
#include "entity.h"
#include <stdio.h>

static int number(char x) {
	if (x>='0' || x<='9')
		return x-48;
	return -1;
}

int saveDataArray[120000];
int saveMetaArray[120000];

void loadSaveString(char* data) {
	static char base64[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,63,0,0,0,62,0,0,1,2,3,4,5,6,7,8,9,0,0,0,0,0,0,0,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,0,0,0,0,0,0,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,0,0,0,0,0};
	int version = number(data[0]);
	char* bgmode_str = "0123456789:;ABCDEF";
	char* index = strchr(bgmode_str, data[2]);
	int bgmode=-1;
	if (bgmode_str)
		bgmode = index-bgmode_str;
	if (bgmode==0)
		Menu_bgMode = 2;
	else if (bgmode!=-1)
		Menu_bgMode = bgmode-1;
	Menu_dotLimit = number(data[3]);
	Menu_gridSize = number(data[4]);
	Menu_gameSpeed = number(data[5]);
	Menu_edgeMode = number(data[6]);
	if (version==0) {
		Menu_carefully = 100;
		data += 8;
	} else if (version>=1) {
		Menu_carefully = base64[data[8]] | base64[data[9]]<<6;
		data += 16;
	}

	int* q[0x1000] = {0};
	int qSize[0x1000] = {0};
	int e[120000], eIndex=0, qIndex=1;
	for (; *data;) {
		int q_size=1;
		int q_read = base64[*data]<<6 | base64[data[1]];
		data+=2;
		if (q_read>0) {
			int i;
			for (i=0; i<qSize[q_read]; i++)
				e[eIndex++] = q[q_read][i];
			q_size = qSize[q_read]+1;
		}
		e[eIndex++] = base64[*data++];
		if (qIndex<0x1000) {
			if (q[qIndex]) {
				free(q[qIndex]);
				q[qIndex] = NULL;
			}
			q[qIndex] = malloc(sizeof(int)*q_size);
			qSize[qIndex] = q_size;
			int i;
			for (i=0; i<q_size; i++)
				q[qIndex][i]=e[eIndex-q_size+i];
			qIndex++;
		}
	}
	int i;
	for (i=0; i<0x1000; i++)
		if (q[i])
			free(q[i]);
	e[eIndex++] = 0;
	e[eIndex++] = 0;
	int a=0;
	int d;
	for (d=0; d<120000; ) {
		int b = e[a++];
		if (b==Elem_FAN || b==Elem_FIREWORKS || b==Elem_BOX || b==Elem_SAVE_BALL) {
			saveDataArray[d] = b;
			saveMetaArray[d++] = e[a++];
		} else if (b==Elem_PLAYER2) {
			saveDataArray[d] = Elem_PLAYER;
			saveMetaArray[d++] = e[a++];
		} else if (e[a]<48) {
			saveDataArray[d++] = b;
		} else {
			//1 or 2 digits in hexadecimal
			int w = e[a++]-48; //low nibble
			if (e[a]>=48) //if next digit
				w += (e[a++]-48)<<4; //get high nibble
			int i;
			for (i=0; i<w; i++)
				saveDataArray[d++] = b;
		}
	}
}

void load1(void) {
	int total=0;
	Part_reset(1);
	int x,y;
	for (y=0; y<300; y++) {
		for (x=0; x<400; x++) {
			int xy = 400*y+x;
			int t = saveDataArray[xy];
			switch (t) {
			when(0):
				xy=(y+8)*WIDTH+(x+8);
				Part_at[y+8][x+8] = Part_EMPTY;
			when(Elem_SAVE_BLOCK):
				Part_blocks[y/4+2][x/4+2].block = 1;
				Part_at[y+8][x+8] = Part_BLOCK;
			when(Elem_SAVE_WHEEL1):
				//Wheels.create(x+8,y+8);
			when(Elem_SAVE_WHEEL2):
				//Wheels.create(x+8,y+8);
			when(Elem_BOX):
				Entity_create(x+8,y+8,Elem_BOX,saveMetaArray[xy]);
			when(Elem_PLAYER):
				Entity_create(x+8,y+8,Elem_PLAYER2,saveMetaArray[xy]);
			when(Elem_SAVE_BALL):
				Ball_create(x+8, y+8, saveMetaArray[xy]);
			otherwise:
				total++;
				if (Menu_dotLimit<=0 && Part_LIMITS[0]<total)
					Menu_dotLimit=1;
				if(Menu_dotLimit<=1 && Part_LIMITS[1]<total)
					Menu_dotLimit=2;
				Part* a = Part_create(x+8, y+8, t);
				int meta = saveMetaArray[xy];
				if (t == Elem_FAN) {
					a->vel = (Vector){0.1*cos(meta*PI/32), 0.1*-sin(meta*PI/32)};
					Part_at[y+8][x+8] = Part_BGFAN;
				} else if (t == Elem_FIREWORKS)
					a->meta = meta;
			}
		}
	}
	Part_shuffle();
}

void Load_test(void) {
	char* data = "0012000000100*02102*01*03*06*05*01w00q00004000v00u01u0B*0200Du0F00Cv0E10E00Ku0J*0Hv0Lu0G*0Bv0Q00N10M*0Pu0O*0Su0X00I10V*0Y10b00au0R00e00Uu0fv0T*0W10dv0j*0cu0iu0Zv0m00g*0ku0o10lu0pu0v10u10xu0tu0z00h00**0s010*0n01200r*13*11*17*16*1901501Bv0qv1Du0wu0.*1801Cu1F014v1E10y01Ku1J*1Hv1Lu1G*1Av1Q01N11M*1Pu1O*1Su1Js00s00R0Bz1b000.1bp0Br1bo1cn1ds1dx00n1bq1cR00r0Bp1dm00o1dr1du1dn00t0Js1aR1n000z1dp1.R0Gn1jR0Bw1lR0Bq1dy1dq1do1qo1sR0Bu1ut1ws1dt1f01rR00p0Bo2Es2902Eq1dR1r00AR2G02F02GR1pR24R2Ro0BR2Rp2Sp2W01x02N02Qp0Bs26R2HR2V02Np2Xq2IR2R02a02Fp2dp0Bx1a10Ms2Ys1*02Po2qr2Jo29o2d02Pp2L02Q02yq27R2do2vp2.02yo2sR0Bt3302Zo31p37R30R3901oR2io2qo38000w2nu2bs21032R2vv2tR1gR3CR3N02xR3M02wR3As31w1m02yp29r3Op3Io3Ip2Jp3Eo3Ew3G01as3ZR39p2bR3Qo3aR2dr2vR2U03L03Jr2Rq2ex3Er2DR3k02Qq2ep1br3h02qp31o3w03Fs2CR3xp31s2Jr31r3DR3xR3mR3iR3Os2qs2Jq3rR34R2vs4AR2vw2xp4502P.3ds2pR3Oo4F03VR3Qp3Ep4No2.o3Ao4S03R03B036R2ir3s04Vo4Uo4Ip4Zq4Io2qw4Ks1bs2l02Qo4iu2KR4PR2eq4Np1h01*p2So3mp2Et3Uq2h01vR4nR2MR4xp2AR3Mp2T02k000x3d*1W11V*1Y15501I157v1T*54u1R058u5Cv5A*56u5Eu1X05D01Uu5H159u5Iv5F05J*5B05K05R*5Q*5T*5G05S*5V*5U05P*5X*5a05Z05cv5Ov5eu5Nu5g15M15iu5Lu5k05W05du5hu5l*5Yv1L*0710415t*5sw0AT04T5x*02T5xs00y1gT2Ms00T61T2Or62o2bT63m1l02GT2Mp6506905wq1pT6Er1a01aT64T6E05w052T1zn60p1cT2Mr6Bs6200ET0An60o24T1o01oT63o66w2Mo00P2Oq00E0A01rT0BP6eT6aE2OT2HP6eo6RE6hm68H0BT2MH6p01rH6rH2MT6eH1pH6pp1r36Xo0036931vT2G36536TT1on2H46lT6kp6rN1p36A32HL6GT5*n2HJ6eq00J2Oo7Go7Eo6ro7Gp7KJ7607Gr6xn2*J2HT2UJ6pq7JR2SJ2Pq1hJ6aT0Do6go7a01rE6AE6rP6Vo0BE6ep6bo1pP6rE6Vm6o00AH6to7o062q0BH2HH6up6yR00A6yq1b362300H7vH6.o7xT6yA6.H7vo1bA7*A6yo8431rA2GH7*T6T00046A47eq1pN6a38Go7Bs6py68J6AJ7J01rJ0BJ6aJ6u07Gq6rJ8L06RJ6Nn8OR8W06RR6uq7SR7HJ3DJ6AR6pu6aP7j07c06f06d06RP6Ep7go8m01rP6PT7g05wm6oo7so7pT7ro7T07z07zo7Rp81388388o85o7zA8530AA7zp9138339032FH6Xq6848Q47eo7bo00N8H08600AL6AT7D07I01aJ1pJ8Oo8MT9O07G02GJ7R09RT8O069q68o9Rp1dT8XT6eR2MJ2.J3ho60u2MP61E24E7ep7Ro8qo6do7jp9k06dp7Rm6os7pp8xo7q09506fq8.H8237vR7z37.39.o97o97H6.q9.R7v388R93o7zR6.T8B48D08k08oo2HN8Gp0B36uo0BL6u.9XJ6cJ8S09Lo9LT9VoANJ24J8Sp8zn2Uo4D06fp2vo1bJ9Np9To83R7Rv9go6gp2HE6i00AP6h08ho9m06Rp7i00AE6nn7rs7po8y09uo9vT0Ao93092383H6.A96A92p7yAA9o9yA71A86AA9380q9Bo75o8goAmo9Fo2H32O3AH000L6u*68pAQo9N0BH09S08No8Mo9Rq8R062p68R4yo9Ro4pT9bo2*0AlR7Y09SR7RuAd02GPAfr7jo6V06ds2bP6io7ln7rq7r06RH6aH8Z07zq8zoAyR9yH6.R95A7*RA5H2GAAy3A5T6sp84R82AAyoB4AA9q9Br7jsAEoBBs6poAIo6p.68r9LJ9c09RJ8Po7Es7ErAZ069p8KRBIoAY09uR8NR2Os7GR9e062uBaoB9EBh0AD01aE6GoB9PCUr62*Bkq8xT8v06so2bH6qo9koB*3Bw3AxA92RA2o6.pA5AA3HAyp62HCoRCnAC2n0B42Mq8ksC509H36joC8062.8Ko8MJCE07L0AQsBMJ8Pp7fn7S02Fo8Ms7IRCN0DA0DDoCP0DDT0Eo6gr1pECUo6bsAfoDN08osAfs6p*BkT6q0Blo7ss8t0Ce065o953A63Cko92HCo372ABsoBuHBsA7zr9z398TAAo8wP8foCyo7*09HT2MLAJn8Os8OrCF0BL0DwoBJo7GsC7n2Ur9NR6Wo4poCLoAYoE402FJ4j0CRo7708iEDLPCXECUp6bqDKsDR0CcoDS0Aro7zsDWpEHoB*RA1A7xRDb380oBxADAA7xA86HCsA87o7qnCvoDmo6koDo39GTDroC9n7EqCHJEg09SoD6oD6sD.0E6o9TR8Np4bR8doDGqE4RAco6U00En6Rs6RuCa069o6Jm1lT7Yo81R8*p87A6sAAwpDe388q96oAwA0A36fr68q9uqF0o6V*68s6RzEynBPnEvmF006Ho66t3F36H32Gn62s6.yCa*FUT5y*62xBEq00D6fD6DL0AD62LFcr65LFZo62D1rL69rFHTCwTE1T9osEyT8l06X*6es6QT6Eo66o6606KpFSnEvpBP06Hq6N05wr34T00mFk06Cp6BpExT63zFio24D7HDBPL6ADFd0Fco0BDFf0FZL6AL62r68D6hoGFo8woFZp7KD7hD7C0FZ08ioGO06fy6bKGWT2GKGWP00KGZK62K6bTGbP6559F5GgNGfN005GgT1rNGjNGmTGh5Gk5GoNAsL7FL7hL24LGsq1pLGI0GJn7Ep9TJAaJ76oGz06fo9QT6WJ6WT0Ho008A588C37907108i800B6r800C6.80066.06RoH7BHGMHIo62yFi01rD2OD6aDGB0FcT7BoGSDAIqGFLGuT740GSq6BDBnDGQo1pD2HDGRD8QDHR0HNK6kT1rK6b0BbK6kKHmPGa0GYP62N245Gh02GNGm51p5Gg00ANGm00A59uLGxoBEoHU0G80I4pBE0I4oI20I7L6urD108N08Uo8SoBIT9co7E06BJIA09RrEz86c88joH7IHM86d36r3IR06K800F2438JoI6oFZTHVo7BT2GDHf0Fg02GLIb0HPoHfLIcL9wnGF0CI0IdT6eD2MDHRo2AD9J0IdpGSrHNP2HK6pP24KHmoGaPIvP6gK0BKIy5Hy59F01r5J3NGj0Hz52H5HyNJ65GhT6eL8QL7B09I0I9o2bLGu0JG0EY0ICrID08U08iJ7M06z0AOr9Vp62n6839T3BB800GJWm1p87v06R8HD0E.0HMT0B800SIWLHfpGM0FiTIg0IdoIsDBEDJHoJjoIYqGKpAaD7RqIkoJnp8z0ImpJqD6um1lKHkoHqoIyKHo08oKJ0PHqKAE5Go0HwNH.oJ6oJ3o9FTJ35J55KDrC*pIXLC70KIoGwp9TLKJL7BpC*T8BJIJJ8QJAR0JMT6GJKRp9qnJfq248HF01r800MIPlHGpJfFHITAG89.0HCCIV0HNoGSoJmD6aL65DHfoHfq7BDG90IXDHRTFR0HPq6rDBnoKmD8QpJmTIoo6x0KnoDRKK2TIz0GW08o0Bb0HlP6gTHp5HxNHJN7q50B5KC5J8NJ6NJ6pGnqC*L7HLKN0I4TGwoGw06BLKO0I8TKQo6prH30AQ0JOoLW0ICoAsJAo0HGz2H8FZ3JWMJZhHI3KZ6HGFKg0Ll06y86uyHP01oDKooKp01aDE1DGFqAI0LuTKwDFl0ImqGFs2bDBDD7t0L306XxK2P62PK6PIv0GY0L8oGaTK6NKA5LHTHz0HyoKCNKB5J3qGjTJCrLRqKK01aLKo0JFoBEs7Tn9QrKU07O0LZ06X0JR0D4p62m68871800eHGSJZPHIpHG*JfKHEBHIqJbuHG6HGu7RyLqoFZqKIrJH0JloHVTLqLM1TLzoM1oM1sKq0JlTL10FzDHRpIcT52KK0KBg01aKHoP6g5HuoKBNK901a51g5LHNLL0I8q6RLLs0JJoI8oNMLNKL6jq8KpIHTLXJD3T8OpNR09Lr8UpFG0Ke0LoWJWQJZSMf3IR8KasHGDJWnIWDHfTIe0Lu0I90NlDLtLM*oBETLzsHfsNpDHRsKJDM3DGCr6pxM6KHmsK1PB8KK20Gl5AE0Hv5LG01aNLI5MHNK9T2OLBnLCXLKos8I0JJT8BoMWTNSo9P08Nr8SsOL0ILmIP4IPSMl8Jg39T89.800QHGPIPFIPsKgyMqDHSsKmLKoDGwDDrTMw0MuLFK0FZsNs0MuDGCq9oDNwoGPp7RxHqrN*K6k0LA0Hl01oKN.5J3rNG0J40GlTHv0NETOAoGNLGtoGwqGuqLQ0LPrAKpG.oIE0DwTD70JOsOMT0H3H7lJWaJWKJV800ZKJ3H7QNd8KaoHGKNh0KlD5wpFZ*BErGHpKpLHPpFYTKwuFMsFzqPbT8pyHmrM60OuoL7oHmqIzTMK5HupO85O3oMLpJ6sKDp6VrFvqG6oFvuFx0JQqFopEvuFo*6O05wo0BmF0w3FKGeKQ3PIzKQ4KGdoK95KDoQ8TQ8NO9pGq5Gk*5z*QF*62t02F002JXFQJFQL2BPFQJGIU2QPFQOT1rFQOFQMFQJTQS2QPGQQ2QXFQVmFirFdpFfwFfsFdxFfp65rFt0JdrFzrAlT6I.68tG5TBepQkTCOT3FnG106H01zT2GpQXL1pFQU2JX00AFQzG24FQz01aFQV*1lLGIpAITHOL6cLGspI3oI8LGGLMbnQipPt06D09AoCv06B37KPJg5KJo6bSLK4AaPRM06fzIBJ8Qo9U09Lp9UoH1oIIq6pv9X27NoQJp6r26A22H27HT1rpQ.LQZ20BFQO0QWG2HFRmoRk0QX0QYGQYFR4nKI0I4LJCoLTLKopC*oNNoHW0Nqm68EKJGDKG6dG9TG8jT6eGS50AWoRJqLmKRO59TKHm5HM4HqTK506y062zRToPAT9QoAOo9QJBDJ6Vv682Rf06R27h26a2SW01r27Rn2GFQJ0QXTQP0QK2Rl2SeFSbGSdoJXTSdGSdFQT2QPTG2oRCpR.LNKoNqLSqsRBLSrLRE0Q.qINEQ.oS9T7gG8wE2HGCh08CKJ836rKSF31pKHAoT30MArSKnSPoSM0BJTIHpRX09YTQs0QJo600TJ0TLoTM2SXpSbT1lpQXoRt2SfFShTQW0QY0QWFQM0TWqSc*R50FitLMpRypLQTMOoI8sS1nS*07cGT10An06RGS7q0BG1pGC7oCvKSD3T50J4375K2b4K14SHm8P0PB0AO0D4JKSoEvJRhvRbpAa2RgoRgp0B2SXTU90JTpSiFTYFR2FQVoQ.FTYoTWoTWrSn*TboI6pSs09ITTgLQc0FipSuoJHTG2nTpEJXEUX08hT2MGS40FzoS70S7o2M4IzSGj3T70Tv01r4HqSUh0UkKTw0MboDt0MVJ2OJU20D4TEiTTIpTLpTNoU80TN0SU0UCG1gFQMGTT2Se0RrrRs0RnFQMT02nKIpR7LLsTI6rBEtUT0I4qI6LSwEUXGS9oQ.T2MEAfGJxEVL0VLoUfKRO0SGKTt0Un0HBoT9oT9rHNnUqTNSsPApRVJFlvCA2SWsRgsU9o1p26pnSa2SfGSiGVnFSboV4oSg2SnFVpGTSGD0nUQTHOoNqoKIsVFpMOLJCTUV0VJE9lE24GT1E8wG8jpUeoSB3TwPRM3UooUmoVX4L6oOYnSNJUtTSPpPAoU0J8puSSoU70SYoWOoTL22O2SWoVkpSl2UJFTYsWW27qFSbsSn.TbrI2TVxLGGoNqqI6sThLOeoVHTW1EW401rGINGSyG2bESzEVQoRJT2M3WC5VTPRRpT9pUg5WG0TE0WLoOJJFm0Dz0CRnU9sWQ2WT0WP0QJrSZpTSFUF2RrqTS0QWTQ*22bFQV.R5oTfpKITWeT9IoP509IpR7oWkm68GKJEVNEVJ0WnEW20XWGVKT1roWtoAG0VVoUmpUg08i4SH08oSKBT9KJNT0X00T*oD4oIIs8enRgqVjoX6oWO2H0pVrFSmFV8FR0FV8GTST0AGVuFQzTV9L9ALP*LG0L6XpPUTUSTIeT1ln8qTUa02GEXVpS5EXVoYGGBp0Jdx6Rr6Bq6BrTB06S06KuYNT2Ou62vG3rF0n520JdpG601eTFWTYau1lNE.N6HN6XNYer65NYetJTnQtt6RqFzp6RxQorQnTFvxFom8ppEvsFXoEvtYRoQtpYO*YlT7FTFrT6Io66vYc0VyLLMN6ANNILGl0XP0HzL6PNYj0IdDHhrKyoL2DHeoNt0Hb0Gy0GarHxqT7oM9pLKK7C*U50GT26c276vPCoJMJRUJAL0Dwp9Uz68QE1Q6aQ8QQBnQM3oOUqAaQ6cQ76uZ2LJC0JJL7BNDr0ZmoI3LHzTYB000X2MX8QXTKXM3X6aXZyo2HX24XMT0OusJ6qKBK6aKHxoIvsDRnVi0SY0SUrWOpTPvIG0ICTTC08UrEk0PBy9XQ6PQZco6rQZeoL2Q6AQaMo2HQaRo1pQXqNSu0MBLOA0BENaY0VH0R8oSqoAIpQ9nJjDHh0IlDOn0OkoNtoa0KBn59T5Ivoao0J4oIxo6E.Rb0MY22M2SXoU*TDI0JLTaFTaFoDyJLpn0BQaN01rQZdo8wQM3Q2MtOU01aQ9TQaU0MP0We0NkL9FpLxLJEL1gL2Op6bLZBoZt01rXZvp9oXZxoZ.obS0bOsaloBe5Ht0HloapoGjoKJKJ.oa8T6l2X600A28eoH3qIHoRWJaHoU1o8Jnb2oBeQaL02GQZfQbspbBob600AQbCsKCLJEpKINLM0L8LbJpHYnGKsHeqGP0AW0M4oKnsalr6r56a5a4obZ5BDKbc0TLT6e2X7oUy0E80AOqUqob0oH1Jb10OUraQ0b4oaS0c6Q7YqaTocW09uQbqTEwNS0NJEoPU01oLDrqLxoBA0WepKDn68XCXXbKT0BXBnXZz0bOoZ.qcn0JKKL.56WpGaocDobbo6pmavo2b2CX2FmuaDsX3od3J8Psbn0OUobpocTod70cYo8wrdAodAscQ06fuZkTR80HOpRC0NmoNN0dLLHvoSwDIp0PX0LroMz0dRDHiqGST8BKamoJ8oIvpJ0odZ06BKcF27H2Vh0X8ocGu9cpbjJD3od4oD2pd6QZepbo0cS0bAo2bQbqoOUpaR0drodATca0Z30MOrUQ0bDsWhNSwXcpoZtsZ.sbToe50bO06BXbV09u5cBoa60aq0ddoczoRgrXt0dh26uu8PrblJdlJeOodoob6saRseS0b4saTrd9QRUT74N0BNGGNZnL8FLSuN24NVDLJ3sKDmGKoNtsOjoJnqHe0ZITdXo8w5eD0GYqa50eG0JToUzpcJocJT7Z0Ep0Ej0DxJeP0e*oeQ0AsQ7hQCXQ6GpZg0GTQbKQcZ0b9T6TNYdsHso6fm68yFMwQoqFDT6euYYqYMTXa0MYmQ1oTKyF0yfJrFvmPaT6I0YPpFV*QGT5xw5*K8CJE.G7LT1oJP*G8NTBLSCan66pEvqFETY*oPsT6EvFu0FN0fqrFzsFzt65nfpqFS06So6JtRGs62wYxT6Vq6Vu6Y0G00MYpQo0fqtYRw1lPHqp7ITBSJ7qGgBo62J8OTICSfi0A30GTSRh0Zto8wXZfS7F37hX6AX8e01r7JX7SzT0B7gTGKJ7gW06B7gT0GTG007gaoHJHFmmRbq9T2BnpRd0a9Tav0aA02G2gOqAc0MWpVdo8wJ6utZcqbu0f3paM06BQaTqbBr7KQRhu1lSPeJgE0fgqSxG9VT7GT2MSgH3BBo6rSH50gL09uXM3S6aS9GoDpohDohDT0M7Q.pVPG7f0SxTYDogc02GGhRphRT7rtczna8pTP0cGqU9rRg0bg0U*sUx2hA0DquIHsXmT6eJgtodqpfB0dyqb2qaT0bw0drphmQTKQZc0X4SGzTSjJT1T0AJIHJ9VsJgTV90HM38QSh8o6rXcooL2S24SBB0FB0cq0iBT0MGhRr6R7Fp7iG0iF0gSGTKH9FHHvHhW0cG0hY2Bn2c.0eKoRe0Jd2gh09HoDpT0MJBnJWIqH3t2MQZd06RQb3QduQhuoie0iip6Bob9rhv0h4JTqThz0ANG9LqROT1enBBqi801rSgQ0c6obNoFzSKJSi9TWu0bOpcnogRogYo6BGgcG9oGj70H20hN02G7gdT6qN6sN6s0Sw2STpcGphbohe0a9oSUpiVqWa3eL09LshiqibohlQcXT7HQcTpb9ob9pb9qjZQgKQb1Shyq9YJAsGBSGh3qGd*JUr1pShGobTT6eXBnSi*0SJTj1oZtpj30YT0jCG247gYT2H7jy0gS0iITTq79TH9FrCcmWN0iS0c62X7TU9q7K2Ai2awThHTiYs8MpAOp9PticoeWoJxQfAQAiQhupdFTdqT7DST1JFwJBPJ2bJUcKjjnAGohfoJgsjnqjuT6eSivoMl3e60CR01o7Sz7hP0j9qiFGTq01aGhU08yN89oiN2cv2iQskAoghoBe26WrhIT0D0jRJdlTUso7RticrjVqb2sg*og.0ieod806Xuh109Mo9NrkUT7HKUp0hI3hGsbTshDsJgo2HShH3cpX6juTp7T17lQ0kn72bGhRogd7kiG6tpiLpkrokwoc*sKJ2BD2612X7pDpqkgJiZoDBJ8pqkI0ds0bAsKJQBDQkNQ61QjW0hvP1gJ8C0lB0e*TLbKlF3CXSjm0bU0m0okZ06yse7XjQ7gW7lW7j57m6GjzGj77k1GmB0BltlZ09u2d0oWOTiRTavseJo6.sgRJli08NsDvTAu0hn0OUskJ0gyolooeWseV0YTnL7ph7JlTTkR0WnTlyTSo06.rjlolLokfoe8pJgqIVq1pXcpT0MomBGmC7gdGmr7lQGlUTmv7AaHgfnbdqX50k6TmJom*oew37Cubi0D50mP07qokPql40dxQlpomW0nBsg*p7RwJ*4gAoh7o7L4gEsJX4654GYTmgtFJTfpsFovFvsF0pfj070nfJqQ0nfMo2AnkgqFEnn80RHmFF0P*0UVT8p*fY*fY.5*0Qu*Yw05wx1lJ6HpY8oMrThzqGBpKpsgEuBEpBPD6HsJgH2GS65H1oS6fHiwof.onTTY*0FwTf6TfpzYzrFpqQlpG1m8p0QuqQqr8boJXoiooJXJHJJgEp7KGaEoKJT52nBNJ6fLGITOZTipoh7pVHoIdqFgJkULC8ToYD9wS6ASo20o1T9tSYTo7sq6wpHJT6aA7hA6AALaoJap8Cq9T4E14MYJKR0jAJ8TTUsra708op9nS7jSL2PlK09wpKJpjhTgAJIHrIDTBSTH3xnp0AQTI6qWdDNjqgBTNkoJo0dUJoa0JkDJi0JrS7s0iwT8xH0ASCr0pPvCgT7GHBmT6sT9TAomo2HApZ0GJ0oq46a4ABslvqKUrH3oWHoL2J60*68Pmm0B9S8fSp10iw0AWpgF00EJL.pFzT9RG8QTVLxpBJ8PTRvoNqDpFJ7ETpHLK.rXoJq4DIosBPH6qp0BSpSHpPpohTeyHH2HpWp7zT1pA24ApaoqL0AsA1p4244B701o4L.JKRoKJJNTpJSTmgoHmpJg0PiS6kSpqpqZTQw0ezoFzGTGJWn0ikTmdp62G6pwnpoARoGDLOcoGMTe.JAWLKsoZGTBKonJLKs0HPT0EHojSpSplKTn.07zSoi0q9o6wT89Tom06BApap0BAZfAos06B475rrF0ph0SO0bm0FzJRh*pmS1gP9TSqb0ikPhB07qpTqJ9oTVPoQlo6pGCKGh70f.nIKJRwoqyoJrJq3qXLDGAo65Jq3oKIDNju9tH6wS8xqi0S7sT3Fo9kH2OHAWHikAKJArA0830FzA9o4KJ4qQr8CokU0FC0rIJl00ikJ6h*rM0Jgp6g08iS6gSHmT9gSrRTqerrIG8QGBnToIJgbJNyngD08NLJHDq20h4LKsrNjopGork0HPsBPS7sp7rSsYS62Srqw7YpArHH2JqIopa094088sRNAL24qP0Ukoslopko6pspi0X3Tdj069*s8pqZPivPJgPFzPqZpqdp2OGF10j6J6rG9RsgEo65Gq306XtpBoAQLsP0HPrgBrsVoKnTLbJWfLGSpGUDsX0DXor306srqZoDiT1ao8vJDXHBLHfg0900tVoryA6j0880c64peoqQT2O4M3J8posrJstTstqVv0VSop2Pl*Psy0AhSmj0BPp9OTh7GoPJ6rT7GG8NGBMG6aG6fJqiT1vnt4JUQDM1JpKopIsIYosULqu0LypqZr8ySCfo2bSFSoAp0DiJrvsqMoryTrB09w08CstcpEZ0rKsqUouP0PBoVa.rMq77S2OPJgrsCq7TpT1oANT9cT8SToKoSzGdlG7IGtv0QHnrbou10LuJu3Locori0fgorgoG9osXH6wosb01aH61SuD06sqh7HhzTbKAonoqMTuJTotqqOoso0uO0IIouQos4sEf0o.0Ahq6krswq7RrQrpBeuF0tnptFduFZu7GuPYDnqJY5qnvT1oH6zS6svuWT1vo6pJ6CTfdp9TsFo069sfnp6Vp2ATFloveove*CAT6AnFS*0GTYa*5zp1e0oQTvlo6E*FvzFsofvT6lnYoD6zDQbTGOLGJo0B.6RyQl0t80oFT6Es6Js6B.uxrvt0Y707006Hv9gssAoDM0vBoAmpHp0CVoAmPKJPC908oqjlq6kswN0vC0sBoDmrtpop2osDosAT9IDHeLFh0LrTObTmRo7vqqKqqJo6RApbpJaTrBpvF0F80BwoqJ0pcopdqosrrGT1ooUzqQJqghp9o2ksqBZoCvsuN46G46l4tb0s10x2ox24smTvoP6APlL01oPl.ojl0wIPi3oDm01aSl*oPiP7TLIcoq10FZrwZoWgorBownoryoxQApboxRo6rAsho9uAxSApbT6WAv40sn02G4Tx06XriRoVp2k80xg08i2c*oVj0cKpWy4g94g9Klv4K64Iv4J04xt0Hl4db0bY0D00AmTwDS6JpAmqtOTqB0L8qsD0p2T6ePQiSxGPDn0GBoGFpVB0GOTIfoxN0rysJaqJaoxT0tWA8QAwnT6eAqK0yKoGNAqO00A4s04FlrSXsSbqiP0gn0U*p6B28pw2MK8QKydoUiocw0GapxwKycoapK7C.7bpIySRho7bTh80pR0L8T9g0n*oDmprOowTP7CpK.pWdLqvLIoLndo7vppY0r90yP088pxO0Bw0wg0xW0z4oz20uIpxVTXb0lvo8CrwrrmJqUBTglpyXTU9pU6pOpoxwTzQ0ygozSKycpyioxwoygK6eKwLPy9opnTBaTi40s90ysox.oJxoEE06RSy8s6xDIcpGHoG9TKuTtQ0wm0z8T2MAuHAompz7ouI0wiqv2ouJozCAM3Ar.0rE0xbrx2qv.0hZ0TPoUBoiO2Vjq6rqTMTrr0ygTzRKa4sJ0szV0xxKIx0xyPE1Svf0xzoqBr8gqynoEa06KSy8qwWpyz0GH0KxTzpr6PAr8qyIAxXsqMpzy0yHApassk0Fz4smox2Ttdobh0TLsyW2aB2WOqYL26uwyc4T54.v0xvKxc0Ga4db4xuKT94K60dd0.Lo1gSoEPBDSy8oEb0o301aPuwpqBoOsqsDpK.oIh0tCLIhoFgT1lozwAxXorxApbA7HAxYq*LoqMAtYoyIT.m0xbo.lpuNTay2df0k6oew2leomIwUfo6r49CoqQox4oqQ4UfszF4zZoi7s9D06BSzk0iwswO0*s0zf0*ED1gDCOLGSsNqnzts.h0sj0z5o7vrJu07vszuoxU0uK4CX4M34eLoeI0SYseI0gnsdgT.DP8QP8QPzaPCSPCSP6lPwK0*30i.s*pTzdop2pzipm2owEppnpwV0*wLqvD6PL*zLeu0wlqwd094qwf0yKqwkowd0zrozxAop47h4M346uvRfo242SVqghs.A06fwL.q6R*nfpxyqFzuYzove0QumfU0YXT9IrKppPUD9IqDY0fqsFs0YZtPuTw40w3p6Vx.NsRGuG6*nj*FV.1z0w3rYtTvl06Hwvupx*TIrsYOufzTg2sYOrFspTKpFs06Lo6Eqfn0vb06Csw6TTIspctpcrtq0uy0kq0AsH*TH7hHCXHcvHZj0GlqKMoL2NLRTZoTeZq6pz685f6G7N5GL0JXq7K576x9XA6cARcAu*08iAshp7vsshTzt0UcAv00zsrshpor0XgrwrvaJqJu0kOqaRpJuJ5wu8RTit0p2ptOSjpqhBoxBom2oqZsp2pqdueZo8F0NJoL2NMQqI6TeZ05wz685CXG6AGcA0ngGbWoHx0FXnz7AwhA7KAu*oxU0yKsshqwip*R0z5TxZ0xcoqQplvslvrmZ0dApfBqb209A0dDQ6xJGjpgAs7I4BLT6M0ba06R5dcT6e52M5a5N345Cw5Qi5an0kgNoELM3NSvo78069.BG5CwGS606R5hOGQi5ybnshp.c08iAxUo*R0z8oryqryqyJT2OAyOoyJT6lAyRqzG46P4FlwZa0hqT6eQ6F0b406zJGjp7v5gAq7I4884gAy685J3pMJNL2oNC5LDoJx5J3T2MNgKNee0kgobG0GTLM3NOD06RNrLnLGoS30Y006R5yo0JXpAa5cmw68A61AyOp.cozuov1oz7Tr8o*Upzz0.cpz7T*P0Xg0.2ozH0Ukrqmnb20hqTjWpJu0dys7G5945h7q7G4944h7y68N6aN6aNM3N6aNZAo9oNRUNAiN6aNgppchpNMT2ONOD0Hvqoz5BDGUapZL0HJGGL02G57Yw68Aztpzu0zroryptX0zrTztoL2A6hqzz0.cpz7T2OA.1TUf0.34FlwZaodwoFzQH5qkPs7G59MThz49MT9K59FqK70c65Gq0NENKJ5J3TLGNLKTLGN2G5BZ01oNNKT6eNKoqcgNFl*685BDGcv561GL.rba0ra0ryp.crqJsxUouJpuIoz7T*PoJu0.g0sj0rv0.j0yS0xbT*VT6M0kOqdqqdB06zJGjrgAq7I4hzoVZ0ba01o5615CX5eqT2M58Q5645eqT0MN6aNNKschopDLCyrtj5BDGtyodcsoI0NEodcTTIA*M0yKsxUqxUorwo8wAIJA*M0zCTzEpuNox34M346uzZaodwoFzQYs0dv0b40kT5EjTlB4BLT6M0y5pqBswTSlH0*qohBswTSjQNOCsDoLLOo9FsvA5BDGtyoJ8sT1sJ8sqmnrBrwf0z5ozxozCTz7Tzto8wAIJACXAxY0*Uqwz0xbT*VT6M0dDQb7sL2okOq8RTpuqtjHM3HCXHBmo6wq9oH8QHCXHBmoj4NGtsDoLLOo9FsvA5BDGtyoJ8sT1sZL06fw9XAgKA*M0tVTztopYorwo8wAIJowd0zrozxAop47h4M346uzZaocTT2OQ7CqaRp9kpvd0t*T6cTnYTkzs6R*6Bxtjq6BunfqYOrpcznZ0PS09W05wsPuTl10w3p6Vz68uFzupcrBPo";///"10120000RE00000000100*02102*01*03*06*05*01w00q00004000v00u01u0B*0200Du0F00Cv0E10E00Ku0J*0Hv0Lu0G*0Bv0Q00N10M*0Pu0O*0Su0X00I10V*0Y10b00au0R00e00Uu0fv0T*0W10dv0j*0cu0iu0Zv0m00g*0ku0o10lu0pu0v10u10xu0tu0z00h00**0s010*0n01200r*13*11*17*16*1901501Bv0qv1Du0wu0.*1801Cu1F014v1E10y01Ku1J*1Hv1Lu1G*1Av1Q01N11M*1Pu1O*1Su1X01I11V*1Y11b01au1R01e01Uu1fv1T*1W11dv1j*1cu1iu1Zv1m01g*1ku1o11lu1pu1v11u11xu1tu1z01h01**1s020*1n02201r*23*21*27*26*2902502Bv1qv2Du1wu1.*2802Cu2F024v2E11y02Ku0Js0Ej00p2Q002y2Ou00j00T00t00o0Bw2U02S10Ms2PT0Bu2Zt00n01q2UT2Uo0Fj0Gy2Tj2V02P02Ut0G10Aj2Vj2X12n*00y2lT2dj0Bj00H00r2Z*2gj2ro2j02au0Bs2c02nj2y00An2*T2Q12ty2v035H0Bq2f10A00Lq2.y3Bu2Zj36q3Eq2d12q032000s34u3JH3Dn2g03Gj2k12bu2h03C03713Fu2*03Os3Qj2xH3S13a13N*2u13Wj2mu3R03Zq3Mq3H13jT2w02UH3fq3nj3Vu33u3Xu3lq3L03U03cu3wj3e03m00Ae00S0Bp3b*3iu3vj3kj40q3yu45y3Ij49n3Tu4B10My2Wj00x4803r041u4Fu0By4H00Dc2Rt3xn01m2fj3u02ut2Zu00c2z03Pj4D100m4T03Oy4Ou4Xr33j4am4c*4604Vj2dc4Ys4R14bn3ou4Nt4Wc4mj40n2f90Bo4iy0Jy4Ov4Xp0Bt3xo4p04k02Qn4*j4Uy4Op4cj3Ko50y55n5304dt2Zp56H3Do58t5Cn5A*4jy59j49o5Fj44n5Hy4xt5Gj5Kj54t5PH4Kq2Xj4Ur00333n5W05Yq5Ys5Yr5Yp5an5Yz5Yu2f30Sj5Mj2yj57j3u33Ps4zn5Yo5Sj5k03232Qs4Xv4cp4TH3ro44o4p32Xs4Xw5un3rj2yp0B36202Q363q5g02Qj5ln3Pc4In5pH5WH64.2fc0Mw4634bs4Xy5*j5jH5Wp2yo5Ws6Em2f00Dy0F302r4Xz4Tc2X02fn60H5Wr6M300.4Xu6Pt6G.2zc6an2Zc0Bn5vj2y33PH0A34Ic0En6L05Wm6V36q06oo5Wo62o4v32R362q6336Vo6Y06.o5Y36qo6v02X37234bo62n0A10E36ar4X.6JH3r30DH64t5tn5Wu6dr7An2Uc6Vr00W0B02QW7Mt6X34IH6lr7F32Wy6Rz6e*4Tr2fH7C.6130025Wc0Dn5Wt6Gz6e.7Xt5vr6Ev5gt7er4fo5W*6K02zn6bn7dy6R.6eq73*7nr6Et5gu7Hc2Qo6pn7un4Xs7b*5Wv7xp73m7Xj36r6Ep7bo8036Q178*6eo83n7.c64p4Xm5gv6Gm69m73n84H5Xc2Xn5Wy6Gn69.5go8K06nc02300z6Go69y5gp8Rw6Ex7my6Rr69p6tc52337H7Cq03u5Wx69n5gr8K30A*6Ru2Wc7Gn6K38m178n7Dj6jq8h32fv8qq8vn8tH5Wq8yv8x*6Rn8z38ru5Wn92q8*H8g*91v9018sv99u94v9B38wH9719AH9Fu9CH7Cu3PZ73w0Q39Ej6jw2zZ5W.00Z73v9Mn92x0AZ7mZ5WZ73t9R39Rq7Gu98H7Cw9V39Z*9Zv9Rr81u9cj9Oq9Rp7dZ64q9Ro7GZ2z300w9Tv8qw9eZ73Z6tZ7RZ64o9Zr9l34Iu9jH81q9Rt9Xo9X32WZ9v39Ko8Nu6Rm9Vq5Wz0AH5w02XH73r9VuA4o9Zo9ZZ6lu9.w9Mm9VoA4zACj3KH6Nq9.Z9qoAIZ3P32XZ9wr8.Z6Nu6R*2QZ9qp2fZ81p7nq6jpAW32fo9h3AWoA339a3ASp9Xr9wq6YuAap9R09o36WZ64Z7GpAfH6LoAtoAk39anAloAJqAZ18Ap9.pAd39gpAx3AiZ73qAWx9XtAHZAvtB2uABpAjqB5w2QH2Us6j.Adr6YoA234IZATZ9wp9Xq6Lu8npAtqAJ37oZ9Sp2yu8pZA6q9.tAdo9w39rZ9q.9Rm8Xu6RtAbq6LZ8EZ9po9m39Zt9P3Az2AluAdqAOZ6DZ9wo9XvBS178tAboA32Bj29R2Atr9gZ9X2A4ZA4p9Zx9Vr7aZAKn9RuA4uAm*CA09.r9MqAhnB5p9Rz7ao5W2Al2C0oAtZ9r3AJr7GqASoBv32unAmZAFZ9vp9WwAlq9MoAWr8NZ6lp9RvBQ29R.5gwAG302nBNr9.nAdy8.u6RpAhZAv3Be3CUvC4wC4pA4q0BZ9vq8Nq9Rs6toAn3AzZ8CZBB3CN32QuA9oAUpBR30DZ2Q2AhoCNpAY3BNpC.rBNz9Vt94oC*qDB*CP3Cy30AuAan9ZpBNxCf3AWq81Z9qZBl3AmpB5Z5WwAbpAyZ78oAtmAdpBko9XpBE3CiZAVo9.*9a29Rw9QZ9nZ3FZ94nC*39rpD2oCosAYoDR3Abz7du91oC0ZAVmAduDs3Auu4vZ7zZ9vo8ipAjnAWpCSqBVwAS3E538UuDwZCJZ9YnAmrAInCDZ9WoAlsC1p9.oAWtDc3DA39KqCS.AMo9o2AmtBs3BpmDVtCvoDkpBdrCEpBUoAmqENZD.oB1302uD4Z2X2AmuETr9.zCd0BVsAJ2Ca39Kr8.pCEoBgnBkv6pvEgu6YZB9ZA6u9.sD2w9a0AW0F0oAtsDj39ur6Yp9.qAWyDd3Co3ENvBouEBsBdZ9qrEEZ64rAjx9o0AsoAsZ9qsCUqC5ZC4qDBZBM27326t2Bz30AoCI3Es3A5pDesE9oCEZAVqAtu9h2C33C03ElZ73p9ZsAtpFKqC8sB0Z6lx2f2FSpCK.9fn9zZ7c0C2oDv178uDQ2AJo7a3CNqBkpBdqCN.EW3BNoFfoFjZ6VZAo3F3wFo37aqAd2BUZBnoBc39Vx7jZCYZEx34It6RxAWm5gqBVZBCz73oFM3Dxo6tn7asGBqB4ZAKZEhZDtpGVyGMZAVZAYpA4y2W18AnFz2FR3Eh3D8pFSoCKrFVZ2QpG2ZBCo8N2Cc252ZD8rF6ZFGZCOrASq9w*8QZE23FTqCNoDWtCnnFzr7axGLpEC2DipCKqFSrAW2A739VpBnZG.oC1Z6lZ9v.8XZ6loF2ZAlxGeu8.2CK30A2GhoGgxAb2C0pCMZ2z2Cd2F729P2C0*FxoGVq9w2DUZBloEwsGPZF8ZDlqAlvHM2CKtHYq9l2Bz2Ak2HSZEhoC0vAbuC43AUqAX3AN3FzZC4.Exu81t0F22Xu2V275T7a*Cd3C8oBCpF8o9apCvqC4oFztFzqCJ3ID28inFzoFzuIF3H32HOrIJuFzy3EuGAuI2.2fT7apDbr7atAV26YnI0q0ET7a.IRpGAzHO29q26l10E22Qw2VpCJ.I0p9rTEhp6a1IfpIkoIS.Ijw2VoIp1InwI2qImuISwIu.I0*0220e20420a*071041J2*J1w0A*";
	loadSaveString(data);
	load1();
}
